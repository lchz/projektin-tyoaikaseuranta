{% extends 'layout.html' %}

{% block body %}

<div>
    <h2>Task</h2>
    <table>
        <tr>
            <th>Name</th>
            <td>{{ task.name }}</td>
        </tr>

        <tr>
            <th>Created by</th>
            <td> {{ creator }} </td>
        </tr>
    
        <tr>
            <th>Content</th>
            <td>{{ task.content }}</td>
        </tr>
    
        <tr>
            <th>Estimated time</th>
            <td>{{ task.estimatedTime }} hours</td>
        </tr>
    
        <tr>
            <th>Actual time</th>
            <td>{{ task.actualTime }} hours</td>
    
            {% if authorized and task.actualTime == 0.0 %}
            <td>
                <form method="POST" action="{{ url_for('tasks_set_actualTime', task_id=task.id, project_id=projectId) }} ">
                    <input type="number" name="set_actualTime" step="0.1" />
                    <input type="submit" value="set actual hours" />
                </form>
            </td>
            {% endif %}
    
        </tr>
    
        {% if task.status  %}
        <tr>
            <th>Date</th>
            <td>{{ task.date }}</td>
        </tr>
        {% endif %}
    
        <tr>
            <th>Finished</th>
            <td>{{ task.status }}</td>
    
            {% if authorized and not task.status %}
            <td>
                <form method="POST" action="{{url_for('tasks_set_done', task_id=task.id, project_id=projectId) }} ">
                    <input type="submit" value="Set as finished!" />
                </form>
            </td>
            {% endif %}
        </tr>
        
        {% if authorized %}
        <tr>
            <td></td>
            <td>
                <form method="POST" action="{{ url_for('task_deletion', task_id=task.id, project_id=projectId) }} ">
                    <input type="submit" value="Remove task" />
                </form>
            </td>
        </tr>
        {% endif %}
        
    
    </table>
</div>

{% endblock body %}
